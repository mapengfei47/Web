# node代码调试

> 在本章我们来一起学习一下nodejs中的代码调试

- 在一般情况下，我们使用node运行js文件的方式为 `node 文件名`，如果想要开启nodejs的调试，则我们需要使用如下命令运行文件

~~~shell
node --inspect 文件名
~~~

## 一. 基本调试

**调试步骤如下**

**第一步：**使用 `node --inspect 文件名` 命令运行文件

**第二步：**

- 第一种：打开浏览器，打开开发者工具的调试目录，点击如下图标，即可跳转到调试界面，通过设置断点，即可开始调试

![](./imgs/node-dev-controller.jpg)

- 第二种：运行文件之后，直接在浏览器输入 `chrome://inspect` 或者 `about:inspect`，回车之后可以看到如下界面，点击任意一个即可跳转到调试界面

  ![](./imgs/node-dev-controller2.jpg)

## 二. 调试非服务脚本

> Web服务脚本会一直在后台运行，但是大部分脚本只是处理某个任务，运行完就终止。这时，你根本没有时间打开调试窗口，脚本就已经运行结束了，这时候，应该怎么调试呢？
>
> 我们可以通过如下命令，使代码在第一行就设置断点，也就是说，一开始运行，就设置断点，等待开发者调试

**语法：**

- 9229是端口号，可以自行设置

~~~shell
$ node --inspect-brk=9229 app.js
~~~



参考文章：[阮一峰的node调试](http://www.ruanyifeng.com/blog/2018/03/node-debugger.html)