# Webpack使用教程

[TOC]

在开始之前，我们先来看以下Webpack官网首页的图片，思考已下该图片表达的意义​

![1563280838991](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1563280838991.png)



## 一.Webpack基本介绍

### 1.1 概念的引入

**思考：在网页中，我们经常会引入哪些常见的静态资源**

> - JS
>   - .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）
>
> - CSS
>   - .css  .less   .sass  .scss
>
> - Images
>   - .jpg   .png   .gif   .bmp   .svg
>
> - 字体文件（Fonts）
>   - .svg   .ttf   .eot   .woff   .woff2
>
> - 模板文件
>   - .ejs   .jade  .vue【这是在webpack中定义组件的方式，推荐这么用】

**问题：网页中静态资源多了以后存在的问题**

> 1. 网页加载速度变慢，因为要多次重复的发送资源请求
> 2. 要处理错综复杂的依赖关系

**如何解决上述两个问题？**

> 1. 合并、压缩、精灵图、图片的Base64编码
> 2. 可以使用之前学过的requireJS、也可以使用webpack可以解决各个包之间的复杂依赖关系；



### 1.2 什么是Webpack

**Webpack是一个前端的<font color='red'>项目构建工具</font>，它是基于node.js开发出来的一个前端工具**

**如何实现上述的2种解决方案？**

> 1. 使用Gulp， 是基于 task 任务的；
> 2. 使用Webpack， 是基于整个项目进行构建的；
>
> - 借助于webpack这个前端自动化构建工具，可以完美**实现资源的合并、打包、压缩、混淆**等诸多功能。
> - 根据官网的图片介绍webpack打包的过程
> - [webpack官网](https://www.webpackjs.com/)



### 1.3 安装Webpack

1. 运行 `npm i webpack -g` 全局安装Webpack，这样就能在全局使用Webpack命令
2. 在项目根目录运行 `npm i webpack --save-dev`安装到项目依赖中



### 1.4 实例-webpack最基本的使用方式

**<font color='red'>使用Webpack打包构建列表隔行变色案例</font>**

1. **创建基本的目录结构**

   webpack-study

   - dist
   - src
     - js
     - css
     - images
     - index.html
     - main.js

2. **在项目目录下面运行`npm init`初始化项目**

3. **使用 `npm i jquery --save` 安装jquery类库**

4. **创建main.js并书写各行变色的代码逻辑**

   ~~~js
   main.js
   
   //导入jquery内库
   import $ from 'jquery'
   
   $(function(){
       $("li:odd").css('backgroundColor','red')
       $("li:even").css('backgroundColor','tomato')
   })
   ~~~

5. 在页面直接引用main.js会报错，因为浏览器不认识ES6的新语法import，需要**使用Webpack进行处理**，Webpack默认会把这种高级语法转换为低级浏览器能够识别的语法

6. **运行 `webpack 入口文件路径 输出文件路径` 对main.js进行处理**

   ~~~powershell
   webpack ./src/main.js ./dist/bundle.js
   ~~~

7. **在index.html中引入bundle.js代替main.js**

